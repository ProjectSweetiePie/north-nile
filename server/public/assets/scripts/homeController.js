angular.module("northApp").controller("HomeController",["$http","$mdDialog",function(a,b){var c,d=this;d.loginInfo={},d.registerInfo={},d.alertMessage="",d.passwordMismatch=function(){return d.registerInfo.password!==d.registerInfo.confirm_password?!0:void 0},d.passwordMismatchError=function(){return d.passwordMismatch()&&d.registerFormInputs.confirm_password.$dirty?!0:void 0},d.loginShow=function(){d.loginForm=!0,d.registerForm=!1},d.registerShow=function(){console.log("hit registerShow"),d.registerForm=!0,d.loginForm=!1},d.loginUser=function(){a.post("/login",d.loginInfo).then(function(a){200==a.status&&(console.log("successful login",a.data.is_admin),a.data.is_admin===!0?(console.log("admin is true"),d.loginInfo={},d.adminDashboard=!0,d.userDashboard=!1,d.registerForm=!1,d.loginForm=!1):(console.log("admin is not true"),d.loginInfo={},d.userDashboard=!0,d.adminDashboard=!1,d.registerForm=!1,d.loginForm=!1))},function(a){function e(){c=b.alert({title:"Attention",textContent:"Incorrect username and/or password. Please enter information again.",ok:"Close"}),b.show(c)["finally"](function(){c=void 0})}console.log("unsuccessful login"),e(),d.loginInfo={}})},d.registerUser=function(){a.post("/register",d.registerInfo).then(function(a){function e(){c=b.alert({title:"Congratulations!",textContent:"Registration successful, please log in.",ok:"Close"}),b.show(c)["finally"](function(){c=void 0})}200==a.status&&(console.log("successful registration"),e(),d.registerInfo={},d.registerForm=!1,d.loginForm=!0)},function(a){function e(){void 0===d.registerInfo.username?d.alertMessage="Username field cannot be blank":d.alertMessage="Username already exists, please choose another.",c=b.alert({title:"Attention",textContent:d.alertMessage,ok:"Close"}),b.show(c)["finally"](function(){c=void 0})}console.log("unsuccessful registration"),e(),d.registerInfo.username=void 0})},console.log("hc.registerFormInputs:",d.registerFormInputs),console.log("Home controller loaded.")}]);