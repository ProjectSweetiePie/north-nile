angular.module("northApp").controller("HomeController",["$http","$mdDialog","$location",function(a,b,c){var d,e=this;e.loginInfo={},e.registerInfo={},e.alertMessage="",e.passwordMismatch=function(){return e.registerInfo.password!==e.registerInfo.confirm_password?!0:void 0},e.passwordMismatchError=function(){return e.passwordMismatch()&&e.registerFormInputs.confirm_password.$dirty?!0:void 0},e.loginShow=function(){e.loginForm=!0,e.registerForm=!1},e.registerShow=function(){console.log("hit registerShow"),e.registerForm=!0,e.loginForm=!1},e.loginUser=function(){a.post("/login",e.loginInfo).then(function(a){200==a.status&&(console.log("successful login",a.data.is_admin),a.data.is_admin===!0?(console.log("admin is true"),e.loginInfo={},e.adminDashboard=!0,e.userDashboard=!1,e.registerForm=!1,e.loginForm=!1):(console.log("admin is not true"),e.loginInfo={},e.userDashboard=!0,e.adminDashboard=!1,e.registerForm=!1,e.loginForm=!1))},function(a){function c(){d=b.alert({title:"Attention",textContent:"Incorrect username and/or password. Please enter information again.",ok:"Close"}),b.show(d)["finally"](function(){d=void 0})}console.log("unsuccessful login"),c(),e.loginInfo={}})},e.registerUser=function(){a.post("/register",e.registerInfo).then(function(a){function c(){d=b.alert({title:"Congratulations!",textContent:"Registration successful, please log in.",ok:"Close"}),b.show(d)["finally"](function(){d=void 0})}200==a.status&&(console.log("successful registration"),c(),e.registerInfo={},e.registerForm=!1,e.loginForm=!0)},function(a){function c(){void 0===e.registerInfo.username?e.alertMessage="Username field cannot be blank":e.alertMessage="Username already exists, please choose another.",d=b.alert({title:"Attention",textContent:e.alertMessage,ok:"Close"}),b.show(d)["finally"](function(){d=void 0})}console.log("unsuccessful registration"),c(),e.registerInfo.username=void 0})},console.log("hc.registerFormInputs:",e.registerFormInputs),console.log("Home controller loaded.")}]);